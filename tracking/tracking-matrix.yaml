# SysML v2 å»ºæ¨¡å¹³å°è¿½è¸ªçŸ©é˜µ
# ç‰ˆæœ¬: 5.0 - MVPå®Œæˆ + Phase 1-3å¢å¼ºè§„åˆ’
# æ›´æ–°æ—¶é—´: 2025-08-27
# è¯´æ˜: MVPæ ¸å¿ƒåŠŸèƒ½100%å®Œæˆï¼ŒPhase 1-3åŠŸèƒ½å¢é‡ç®¡ç†

metadata:
  project: SysML v2 MVP + Phase 1-3 Enhancement
  version: "5.0.0-Phase-Planning"
  created: "2025-08-25"
  updated: "2025-08-27T12:00:00Z"
  status: "MVPå…¨é¢å®Œæˆï¼ŒPhase 1-3å¢é‡è§„åˆ’"
  architecture_status:
    current: "MVP Full Platform + Enhancement Planning"
    description: "MVPå¹³å°100%å®Œæˆï¼Œ588ä¸ªå…ƒç´ æ€§èƒ½éªŒè¯é€šè¿‡ï¼Œä¸‰è§†å›¾è”åŠ¨"
    completed_features:
      - "âœ… å®Œæ•´EMFåŸºåº§ä¸å…ƒæ¨¡å‹æ³¨å†Œ (182ä¸ªEClass)"
      - "âœ… éœ€æ±‚å®šä¹‰å’Œä½¿ç”¨ç®¡ç† (CRUD + ä¸šåŠ¡éªŒè¯)"
      - "âœ… è¿½æº¯å…³ç³»ç®¡ç† (å››ç§ç±»å‹: derive/satisfy/refine/trace)"
      - "âœ… é™æ€éªŒè¯è§„åˆ™ (3æ¡æ ¸å¿ƒè§„åˆ™)"
      - "âœ… å‰ç«¯ä¸‰è§†å›¾è”åŠ¨ (æ ‘/è¡¨/å›¾)"
      - "âœ… é¡¹ç›®å¯¼å…¥å¯¼å‡º (JSONå®Œæ•´æ€§)"
    enhancement_phases:
      - "Phase 1: éœ€æ±‚æ¨¡æ¿ä¸å®ä¾‹åŒ– (2-3å‘¨)"
      - "Phase 2: å…³ç³»è¯­ä¹‰å¢å¼º (2å‘¨)"
      - "Phase 3: ç»§æ‰¿ä¸é‡å®šä¹‰ (3å‘¨)"
    data_status: "ç”µæ± ç³»ç»ŸDemoæ•°æ®588ä¸ªå…ƒç´ ï¼Œæ€§èƒ½éªŒè¯é€šè¿‡"

# å²è¯—çº§ä»»åŠ¡ï¼ˆæ ¹æ®éœ€æ±‚æ–‡æ¡£ï¼‰
epics:
  - id: EPIC-A
    title: "æ¶æ„ä¸æ•°æ®ä¸€è‡´æ€§"
    priority: P0
    status: "éƒ¨åˆ†å®ç°"
    description: "å•ä¸€æ•°æ®æºï¼ˆSSOTï¼‰æ¶æ„"
    
  - id: EPIC-B
    title: "EMFåŸºåº§ä¸æŒä¹…åŒ–"
    priority: P0
    status: "æ ¸å¿ƒå®Œæˆ"
    description: "EMFæ¨¡å‹æ³¨å†Œã€JSONåºåˆ—åŒ–ã€æ•°æ®å­˜å‚¨"
    
  - id: EPIC-C
    title: "éœ€æ±‚ä¸è¿½æº¯ç®¡ç†"
    priority: P0
    status: "å¾…å®ç°"
    description: "é¢†åŸŸç‰¹å®šæ¥å£çš„éœ€æ±‚å’Œè¿½æº¯ç®¡ç†"
    
  - id: EPIC-D
    title: "ä¸‰è§†å›¾è”åŠ¨"
    priority: P0
    status: "å¾…å®ç°"
    description: "æ ‘ã€è¡¨ã€å›¾è§†å›¾çš„æ•°æ®å±•ç¤º"
    
  - id: EPIC-E
    title: "é™æ€æ ¡éªŒ"
    priority: P0
    status: "å¾…å®ç°"
    description: "æ ¸å¿ƒä¸šåŠ¡è§„åˆ™éªŒè¯"
    
  - id: EPIC-F
    title: "ç¦»çº¿æ„å»ºä¸äº¤ä»˜"
    priority: P0
    status: "å·²å®Œæˆ"
    description: "Mavenç¦»çº¿æ„å»ºæ”¯æŒ"
    
  # Phase 1-3 å¢å¼ºé˜¶æ®µEpic
  - id: EPIC-G
    title: "Phase 1: éœ€æ±‚æ¨¡æ¿ä¸å®ä¾‹åŒ–"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒRequirementDefinitionæ¨¡æ¿åŒ–å’Œå‚æ•°åŒ–å®ä¾‹åŒ–"
    duration: "2-3å‘¨"
    dependencies: ["MVPå…¨é¢å®Œæˆ"]
    
  - id: EPIC-H
    title: "Phase 2: å…³ç³»è¯­ä¹‰å¢å¼º"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "å¢å¼ºè¿½æº¯å…³ç³»è¯­ä¹‰å’ŒéªŒè¯èƒ½åŠ›"
    duration: "2å‘¨"
    dependencies: ["EPIC-Gå®Œæˆ"]
    
  - id: EPIC-I
    title: "Phase 3: ç»§æ‰¿ä¸é‡å®šä¹‰"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒéœ€æ±‚å®šä¹‰çš„ç»§æ‰¿å±‚æ¬¡å’Œé‡å®šä¹‰æœºåˆ¶"
    duration: "3å‘¨"
    dependencies: ["EPIC-Hå®Œæˆ"]

# ç”¨æˆ·æ•…äº‹
stories:
  # EPIC A - æ¶æ„ä¸æ•°æ®ä¸€è‡´æ€§
  - id: STORY-A1
    epic: EPIC-A
    title: "å•ä¸€æ•°æ®æºï¼ˆSSOTï¼‰"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    description: "EMF Resourceä½œä¸ºå”¯ä¸€æ•°æ®æº"
    
  - id: STORY-A2
    epic: EPIC-A
    title: "ç³»ç»ŸçŠ¶æ€æ£€æŸ¥"
    priority: P2
    status: "MVPä¸å®ç°"
    description: "å¥åº·æ£€æŸ¥æ¥å£ï¼ˆMVPé˜¶æ®µè·³è¿‡ï¼‰"
    
  # EPIC B - EMFåŸºåº§ä¸æŒä¹…åŒ–
  - id: STORY-B1
    epic: EPIC-B
    title: "å®Œæ•´Pilot Ecoreæ³¨å†Œ & JSONèµ„æºå·¥å‚"
    priority: P0
    status: "å·²å®Œæˆ"
    description: "åŠ è½½182ä¸ªEClassï¼Œæ³¨å†ŒJSONåºåˆ—åŒ–"
    
  - id: STORY-B2
    epic: EPIC-B
    title: "ç»Ÿä¸€å·¥å‚åˆ›å»ºä¸DTOæ˜ å°„"
    priority: P0
    status: "éƒ¨åˆ†å®Œæˆ"
    description: "PilotEMFServiceæä¾›åŸºç¡€å·¥å…·æ–¹æ³•"
    
  - id: STORY-B3
    epic: EPIC-B
    title: "é¡¹ç›®å¯¼å…¥/å¯¼å‡ºï¼ˆJSONï¼‰"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    description: "FileModelRepositoryæ”¯æŒJSONå­˜å‚¨"
    
  - id: STORY-B4
    epic: EPIC-B
    title: "å¿«é€ŸåŸå‹éªŒè¯"
    priority: P1
    status: "å¾…å®ç°"
    description: "Spring Shell CLIæ”¯æŒ"
    
  - id: STORY-B5
    epic: EPIC-B
    title: "é¢†åŸŸç‰¹å®šæ¥å£"
    priority: P0
    status: "å·²å®Œæˆ"
    description: "éœ€æ±‚ã€éƒ¨ä»¶ç­‰é¢†åŸŸæœåŠ¡æ¥å£"
    
  # Phase 1 - éœ€æ±‚æ¨¡æ¿ä¸å®ä¾‹åŒ– Stories
  - id: STORY-P1-1
    epic: EPIC-G
    title: "éœ€æ±‚å®šä¹‰æ¨¡æ¿åŒ–"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒå°†RequirementDefinitionæ ‡è®°ä¸ºæ¨¡æ¿ï¼ˆisAbstract=trueï¼‰"
    user_story: "As éœ€æ±‚åˆ†æå¸ˆ I want å°†RequirementDefinitionæ ‡è®°ä¸ºæ¨¡æ¿ so that å¯ä»¥å¤ç”¨é€šç”¨éœ€æ±‚æ¨¡å¼"
    
  - id: STORY-P1-2
    epic: EPIC-G
    title: "æ¨¡æ¿å‚æ•°åŒ–å®šä¹‰"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒåœ¨éœ€æ±‚æ–‡æœ¬ä¸­å®šä¹‰å ä½ç¬¦å‚æ•°"
    user_story: "As éœ€æ±‚å·¥ç¨‹å¸ˆ I want åœ¨éœ€æ±‚æ–‡æœ¬ä¸­å®šä¹‰å ä½ç¬¦å‚æ•° so that å¯ä»¥å‚æ•°åŒ–é‡ç”¨éœ€æ±‚é€»è¾‘"
    
  - id: STORY-P1-3
    epic: EPIC-G
    title: "å®ä¾‹åŒ–æ¨¡æ¿åˆ›å»º"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒä»æ¨¡æ¿åˆ›å»ºRequirementUsageå®ä¾‹"
    user_story: "As é¡¹ç›®ç»ç† I want ä»æ¨¡æ¿åˆ›å»ºRequirementUsageå®ä¾‹ so that å¿«é€Ÿå¤åˆ¶æ ‡å‡†éœ€æ±‚åˆ°å…·ä½“åœºæ™¯"
    
  - id: STORY-P1-4
    epic: EPIC-G
    title: "å‚æ•°ç»‘å®šä¸æ¸²æŸ“"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒä¸ºUsageå®ä¾‹ç»‘å®šå…·ä½“å‚æ•°å€¼å¹¶ç”Ÿæˆæ¸²æŸ“æ–‡æœ¬"
    user_story: "As ä¸šåŠ¡åˆ†æå¸ˆ I want ä¸ºUsageå®ä¾‹ç»‘å®šå…·ä½“å‚æ•°å€¼ so that ç”Ÿæˆå¯è¯»çš„å…·ä½“éœ€æ±‚æ–‡æ¡£"
    
  - id: STORY-P1-5
    epic: EPIC-G
    title: "æ¨¡æ¿åº“ç®¡ç†"
    priority: P1
    status: "è§„åˆ’ä¸­"
    description: "æ”¯æŒç®¡ç†å’Œç»„ç»‡éœ€æ±‚æ¨¡æ¿åº“"
    user_story: "As ç»„ç»‡ç®¡ç†å‘˜ I want ç®¡ç†éœ€æ±‚æ¨¡æ¿åº“ so that ç¡®ä¿å›¢é˜Ÿä½¿ç”¨æ ‡å‡†åŒ–éœ€æ±‚æ¨¡æ¿"

# éœ€æ±‚å®šä¹‰ï¼ˆæŒ‰éœ€æ±‚æ–‡æ¡£ï¼‰
requirements:
  # STORY A1 - å•ä¸€æ•°æ®æº
  - id: REQ-A1-1
    story: STORY-A1
    title: "æ•°æ®æºå”¯ä¸€"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    implementation_status:
      emf_resource: "âœ… EMF Resourceç»Ÿä¸€ç®¡ç†"
      file_repository: "âœ… FileModelRepositoryå®ç°"
      view_sync: "âŒ è§†å›¾åŒæ­¥æœºåˆ¶æœªå®ç°"
    
  - id: REQ-A1-2
    story: STORY-A1
    title: "è§†å›¾ä¸ºæŠ•å½±"
    priority: P0
    status: "å¾…å®ç°"
    
  - id: REQ-A1-3
    story: STORY-A1
    title: "æ€§èƒ½åº•çº¿"
    priority: P0
    status: "å¾…éªŒè¯"
    acceptance_criteria: "500èŠ‚ç‚¹/1000è¾¹ï¼Œå“åº”<500ms"
    
  # STORY B1 - Pilotå…ƒæ¨¡å‹
  - id: REQ-B1-1
    story: STORY-B1
    title: "å®Œæ•´Pilotå…ƒæ¨¡å‹æ³¨å†Œ"
    priority: P0
    status: "å·²å®ç°"
    implementation:
      file: "EMFModelRegistry.java"
      details: "æˆåŠŸåŠ è½½182ä¸ªEClassï¼Œå‘½åç©ºé—´åŠ¨æ€è·å–"
      verification: "å¯åŠ¨æ—¥å¿—æ˜¾ç¤ºï¼šæ³¨å†Œçš„EClassæ•°é‡: 182"
    test_status: "âœ… æµ‹è¯•é€šè¿‡"
    test_file: "EMFCoreSimpleTest.java#testMetamodelRegistration"
    
  - id: REQ-B1-2
    story: STORY-B1
    title: "JSONå·¥å‚"
    priority: P0
    status: "å·²å®ç°"
    implementation:
      file: "EMFModelRegistry.java"
      details: "ä½¿ç”¨sirius-emfjsonåº“æ³¨å†ŒJSONå·¥å‚"
    test_status: "âœ… æµ‹è¯•é€šè¿‡"
    test_file: "EMFCoreSimpleTest.java#testSaveAndLoad"
    
  - id: REQ-B1-3
    story: STORY-B1
    title: "å›è¯»ä¸€è‡´æ€§"
    priority: P0
    status: "å·²å®ç°"
    implementation:
      file: "FileModelRepository.java"
      details: "ä¿å­˜å’ŒåŠ è½½JSONï¼Œä¿æŒIDå’Œå¼•ç”¨ä¸€è‡´"
    test_status: "âœ… æµ‹è¯•é€šè¿‡"
    test_file: "EMFCoreSimpleTest.java#testSaveAndLoad"
    
  - id: REQ-B1-4
    story: STORY-B1
    title: "Demoæ•°æ®"
    priority: P0
    status: "å·²å®ç°"
    data_files:
      - "demo-project.json (21ä¸ªå¯¹è±¡)"
      - "ev-battery-demo.json (ç”µæ± ç³»ç»Ÿæ¼”ç¤º)"
      - "small/medium/large-project.json"
    
  # STORY B2 - å·¥å‚åˆ›å»º
  - id: REQ-B2-1
    story: STORY-B2
    title: "åˆ›å»ºAPI"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    implementation:
      file: "PilotEMFService.java"
      methods: ["createRequirementDefinition", "createRequirementUsage", "createTraceDependency", "createElement"]
    test_status: "âœ… æµ‹è¯•é€šè¿‡"
    test_file: "EMFCoreSimpleTest.java#testCreateObjects"
    
  - id: REQ-B2-2
    story: STORY-B2
    title: "é»˜è®¤å€¼"
    priority: P0
    status: "éƒ¨åˆ†å®Œæˆ"
    
  - id: REQ-B2-3
    story: STORY-B2
    title: "IDç¨³å®š"
    priority: P0
    status: "å·²å®ç°"
    test_status: "âœ… æµ‹è¯•é€šè¿‡"
    test_file: "EMFCoreSimpleTest.java#testSaveAndLoad"
    
  - id: REQ-B2-4
    story: STORY-B2
    title: "DTOé€‰æ‹©æ€§æ˜ å°„"
    priority: P0
    status: "å¾…å®ç°"
    notes: "éœ€è¦åˆ›å»ºDTOå±‚"
    
  # STORY B3 - å¯¼å…¥å¯¼å‡º
  - id: REQ-B3-1
    story: STORY-B3
    title: "å¯¼å‡ºJSON"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    implementation:
      file: "FileModelRepository.java"
      method: "saveModel"
    
  - id: REQ-B3-2
    story: STORY-B3
    title: "å¯¼å…¥JSON"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    implementation:
      file: "FileModelRepository.java"
      method: "loadModel"
    
  - id: REQ-B3-3
    story: STORY-B3
    title: "ä¸€è‡´æ€§"
    priority: P0
    status: "å·²éªŒè¯"
    
  # STORY B5 - é¢†åŸŸç‰¹å®šæ¥å£
  - id: REQ-B5-1
    story: STORY-B5
    title: "éœ€æ±‚é¢†åŸŸæ¥å£"
    priority: P0
    status: "å¾…å®ç°"
    required_components:
      - "RequirementController (å¾…åˆ›å»º)"
      - "RequirementService (å¾…åˆ›å»º)"
    
  - id: REQ-B5-2
    story: STORY-B5
    title: "éƒ¨ä»¶é¢†åŸŸæ¥å£"
    priority: P0
    status: "å¾…å®ç°"
    
  - id: REQ-B5-3
    story: STORY-B5
    title: "å†…éƒ¨EMFå·¥å…·å±‚"
    priority: P0
    status: "åŸºç¡€å®Œæˆ"
    implementation:
      file: "PilotEMFService.java"
      notes: "å·²å®ç°EMFå·¥å…·æ–¹æ³•ï¼Œå¾…å°è£…è®¿é—®æ§åˆ¶"
    
  - id: REQ-B5-4
    story: STORY-B5
    title: "æ‰©å±•æ–°ç±»å‹"
    priority: P0
    status: "æ¶æ„æ”¯æŒ"
    notes: "åŠ¨æ€EMFæ”¯æŒé›¶ä»£ç æ‰©å±•"
    
  - id: REQ-B5-5
    story: STORY-B5
    title: "QUDVå•ä½é‡çº²æ ¡éªŒ"
    priority: P0
    status: "å·²å®Œæˆ"
    
  # Phase 1 - éœ€æ±‚æ¨¡æ¿ä¸å®ä¾‹åŒ– Requirements
  - id: REQ-P1-1
    story: STORY-P1-1
    title: "æ¨¡æ¿æ ‡è®°æ”¯æŒ"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "Given RequirementDefinitionå¯¹è±¡ï¼ŒWhenè®¾ç½®isAbstract=trueï¼ŒThenè¯¥Definitionè¢«æ ‡è®°ä¸ºæ¨¡æ¿"
      - "æ¨¡æ¿ä¸èƒ½ç›´æ¥çº¦æŸå¯¹è±¡ï¼Œåªèƒ½è¢«Usageå¼•ç”¨å®ä¾‹åŒ–"
    implementation_notes:
      - "æ‰©å±•RequirementDefinitionæ¨¡å‹ï¼Œæ”¯æŒisAbstractå­—æ®µ"
      - "ä¿®æ”¹RequirementServiceï¼Œæ·»åŠ æ¨¡æ¿éªŒè¯é€»è¾‘"
    test_requirements:
      - "åˆ›å»ºæ¨¡æ¿ï¼š isAbstract=true è®¾ç½®æˆåŠŸ"
      - "æ¨¡æ¿éªŒè¯ï¼šä¸èƒ½ç›´æ¥çº¦æŸ subject"
      
  - id: REQ-P1-2
    story: STORY-P1-2
    title: "å‚æ•°å ä½ç¬¦è¯­æ³•"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "Given RequirementDefinition.documentationï¼ŒWhenåŒ…å«${paramName}è¯­æ³•ï¼ŒThenç³»ç»Ÿè¯†åˆ«ä¸ºå‚æ•°å ä½ç¬¦"
      - "æ”¯æŒåµŒå¥—å‚æ•°å¦‚${system.name}"
      - "å ä½ç¬¦åç§°æ”¯æŒå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œç‚¹å·"
    implementation_notes:
      - "å®ç°æ–‡æœ¬è§£æå™¨ï¼Œæ”¯æŒ${}è¯­æ³•"
      - "æ”¯æŒå‚æ•°éªŒè¯å’Œé”™è¯¯æç¤º"
    test_requirements:
      - "å ä½ç¬¦è¯†åˆ«ï¼š${param}ã€${nested.param}è§£ææ­£ç¡®"
      - "éæ³•å ä½ç¬¦ï¼š${123invalid}è¿”å›é”™è¯¯"
      
  - id: REQ-P1-3
    story: STORY-P1-3
    title: "æ¨¡æ¿å®ä¾‹åŒ–API"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "POST /api/v1/requirements/templates/{templateId}/instantiate åˆ›åººUsage"
      - "è‡ªåŠ¨è®¾ç½®ofå­—æ®µæŒ‡å‘æ¨¡æ¿"
      - "å¤åˆ¶æ¨¡æ¿çš„documentationåˆ°Usage"
      - "Usageå¯ä»¥é‡å†™æˆ–ç»‘å®šå‚æ•°"
    api_specification:
      - "POST /api/v1/requirements/templates/{templateId}/instantiate"
      - "Request: {declaredShortName, subject, parameters?}"
      - "Response: 201 Created + RequirementUsageDTO"
    test_requirements:
      - "æ¨¡æ¿å®ä¾‹åŒ–ï¼šæˆåŠŸåˆ›å»ºUsageå¹¶è®¾ç½®ofå¼•ç”¨"
      - "æ¨¡æ¿ä¸å­˜åœ¨ï¼šè¿”å›404 Not Found"
      
  - id: REQ-P1-4
    story: STORY-P1-4
    title: "å‚æ•°ç»‘å®šæœºåˆ¶"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "RequirementUsageåŒ…å«parameterså­—æ®µå­˜å‚¨å‚æ•°å€¼"
      - "PATCH /api/v1/requirements/usage/{id} æ”¯æŒæ›´æ–°parameters"
      - "å‚æ•°ç»‘å®šåè‡ªåŠ¨ç”ŸæˆrenderedTextå­—æ®µ"
    data_model:
      - "RequirementUsage.parameters: Map<String, Object>"
      - "RequirementUsage.renderedText: String (è‡ªåŠ¨ç”Ÿæˆ)"
    test_requirements:
      - "å‚æ•°ç»‘å®šï¼šè®¾ç½®{param1: value1}æˆåŠŸ"
      - "å‚æ•°æ›´æ–°ï¼šPATCHè¯·æ±‚æ›´æ–°å‚æ•°æˆåŠŸ"
      
  - id: REQ-P1-5
    story: STORY-P1-4
    title: "æ–‡æœ¬æ¸²æŸ“å¼•æ“"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "å‚æ•°ç»‘å®šåè‡ªåŠ¨æ›¿æ¢å ä½ç¬¦ç”ŸæˆrenderedText"
      - "æœªç»‘å®šå‚æ•°ä¿æŒ${paramName}åŸæ ·"
      - "æ”¯æŒé»˜è®¤å€¼è¯­æ³•${param:defaultValue}"
    rendering_rules:
      - "å‚æ•°æ›¿æ¢ï¼š${param} â†’ ç»‘å®šå€¼"
      - "é»˜è®¤å€¼ï¼š${param:default} â†’ default (å¦‚æœæœªç»‘å®šparam)"
      - "æœªç»‘å®šï¼š${param} ä¿æŒåŸæ ·"
    test_requirements:
      - "æ¸²æŸ“æˆåŠŸï¼šæ‰€æœ‰å‚æ•°æ›¿æ¢æ­£ç¡®"
      - "éƒ¨åˆ†ç»‘å®šï¼šå·²ç»‘å®šæ›¿æ¢ï¼Œæœªç»‘å®šä¿æŒåŸæ ·"
      
  - id: REQ-P1-6
    story: STORY-P1-5
    title: "æ¨¡æ¿æŸ¥è¯¢æ¥å£"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "GET /api/v1/requirements/templates è¿”å›æ‰€æœ‰æ¨¡æ¿(isAbstract=true)"
      - "æ”¯æŒåˆ†ç±»æŸ¥è¯¢(tags)"
      - "æ”¯æŒæœç´¢åŠŸèƒ½"
      - "è¿”å›æ¨¡æ¿ä½¿ç”¨ç»Ÿè®¡"
    api_specification:
      - "GET /api/v1/requirements/templates?tags={tag}&search={keyword}"
      - "Response: TemplateDTO[] with usageCount field"
    test_requirements:
      - "æ¨¡æ¿åˆ—è¡¨ï¼šè¿”å›æ‰€æœ‰isAbstract=trueçš„Definition"
      - "åˆ†ç±»è¿‡æ»¤ï¼štagså‚æ•°è¿‡æ»¤æ­£ç¡®"
      
  - id: REQ-P1-7
    story: STORY-P1-5
    title: "æ¨¡æ¿éªŒè¯è§„åˆ™"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "æ¨¡æ¿ä¸èƒ½åˆ é™¤å¦‚æœè¢«Usageå¼•ç”¨(409é”™è¯¯)"
      - "å‚æ•°åç§°ä¸èƒ½å†²çª"
      - "å ä½ç¬¦å¿…é¡»æ˜¯æœ‰æ•ˆæ ‡è¯†ç¬¦"
      - "æ¨¡æ¿å±‚çº§ä¸èƒ½è¶…è¿‡3å±‚"
    validation_rules:
      - "å¼•ç”¨ä¿æŠ¤ï¼šæ£€æŸ¥Usage.ofå¼•ç”¨è®¡æ•°"
      - "å‚æ•°å†²çªï¼šåŒä¸€æ¨¡æ¿å†…å‚æ•°åä¸é‡å¤"
      - "å±‚çº§é™åˆ¶ï¼šæ¨¡æ¿ç»§æ‰¿æ·±åº¦æ£€æŸ¥"
    test_requirements:
      - "åˆ é™¤ä¿æŠ¤ï¼šè¢«å¼•ç”¨æ¨¡æ¿è¿”å›409"
      - "å‚æ•°éªŒè¯ï¼šé‡å¤å‚æ•°åè¿”å›400"
      
  - id: REQ-P1-8
    story: STORY-P1-4
    title: "å‚æ•°ç±»å‹æ ¡éªŒ"
    priority: P1
    status: "è§„åˆ’ä¸­"
    acceptance_criteria:
      - "æ”¯æŒå‚æ•°ç±»å‹å®šä¹‰(string,number,durationç­‰)"
      - "ç»‘å®šæ—¶æ ¡éªŒç±»å‹åŒ¹é…"
      - "durationç±»å‹å¿…é¡»åŒ…å«å•ä½"
      - "é”™è¯¯æ—¶è¿”å›400å¸¦è¯¦ç»†ä¿¡æ¯"
    type_system:
      - "string: å­—ç¬¦ä¸²ç±»å‹"
      - "number: æ•°å€¼ç±»å‹ï¼ˆæ•´æ•°/æµ®ç‚¹æ•°ï¼‰"
      - "duration: æŒç»­æ—¶é—´ï¼Œå¿…é¡»åŒ…å«å•ä½(s,min,h,day)"
      - "quantity: æ•°é‡å€¼ï¼Œå¿…é¡»åŒ…å«å•ä½"
    test_requirements:
      - "ç±»å‹åŒ¹é…ï¼šæ­£ç¡®ç±»å‹ç»‘å®šæˆåŠŸ"
      - "ç±»å‹é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…è¿”å›400"

# ä»£ç å®ç°çŠ¶æ€
code_implementations:
  # æ ¸å¿ƒä¿ç•™æ–‡ä»¶
  - file: backend/src/main/java/com/sysml/mvp/Application.java
    type: infrastructure
    status: "å·²å®ç°"
    description: "Spring Bootå¯åŠ¨ç±»"
    requirements: []
    
  - file: backend/src/main/java/com/sysml/mvp/model/EMFModelRegistry.java
    type: core
    status: "å·²å®ç°"
    description: "EMFå…ƒæ¨¡å‹æ³¨å†Œï¼ŒåŠ è½½182ä¸ªEClass"
    requirements: [REQ-B1-1, REQ-B1-2]
    capabilities:
      - "åŠ è½½SysML.ecoreæ–‡ä»¶"
      - "æ³¨å†Œåˆ°EPackage.Registry"
      - "é…ç½®JSONèµ„æºå·¥å‚"
    
  - file: backend/src/main/java/com/sysml/mvp/repository/FileModelRepository.java
    type: core
    status: "å·²å®ç°"
    description: "æ–‡ä»¶ç³»ç»ŸJSONæŒä¹…åŒ–"
    requirements: [REQ-B1-3, REQ-B3-1, REQ-B3-2, REQ-B3-3]
    capabilities:
      - "åŠ è½½/ä¿å­˜EMF Resource"
      - "JSONåºåˆ—åŒ–/ååºåˆ—åŒ–"
      - "é¡¹ç›®æ–‡ä»¶ç®¡ç†"
    
  - file: backend/src/main/java/com/sysml/mvp/service/PilotEMFService.java
    type: core
    status: "å·²å®ç°"
    description: "EMFå·¥å…·æ–¹æ³•å°è£…"
    requirements: [REQ-B2-1, REQ-B5-3]
    capabilities:
      - "åŠ¨æ€åˆ›å»ºEObject"
      - "å±æ€§è®¿é—®eGet/eSet"
      - "ç±»å‹æŸ¥è¯¢å’ŒéªŒè¯"
    
  - file: backend/src/main/java/com/sysml/mvp/exception/GlobalExceptionHandler.java
    type: infrastructure
    status: "å·²å®ç°"
    description: "å…¨å±€å¼‚å¸¸å¤„ç†"
    requirements: []
    
  - file: backend/src/main/resources/application.yml
    type: configuration
    status: "å·²é…ç½®"
    description: "Spring Booté…ç½®æ–‡ä»¶"
    
  # æµ‹è¯•æ–‡ä»¶
  - file: backend/src/test/java/com/sysml/mvp/EMFCoreSimpleTest.java
    type: test
    status: "å·²å®ç°"
    description: "æ ¸å¿ƒEMFåŠŸèƒ½ç®€åŒ–æµ‹è¯•"
    requirements: [REQ-B1-1, REQ-B1-2, REQ-B1-3, REQ-B2-1, REQ-B2-3]
    test_methods:
      - "testMetamodelRegistration: éªŒè¯182ä¸ªEClassæ³¨å†Œ"
      - "testCreateObjects: éªŒè¯å¯¹è±¡åˆ›å»ºåŠŸèƒ½"
      - "testSaveAndLoad: éªŒè¯JSONåºåˆ—åŒ–å’Œä¸€è‡´æ€§"
  
  # æ•°æ®æ–‡ä»¶
  - file: backend/data/demo-project.json
    type: data
    status: "å·²åˆ›å»º"
    description: "æ¼”ç¤ºæ•°æ®ï¼ˆ8ä¸ªDefinitionï¼Œ5ä¸ªTraceï¼‰"
    requirements: [REQ-B1-4]
    
  - file: backend/data/ev-battery-demo.json
    type: data
    status: "å·²åˆ›å»º"
    description: "ç”µæ± ç³»ç»Ÿæ¼”ç¤ºæ•°æ®"
    requirements: [REQ-B1-4]

# å¾…å®ç°ç»„ä»¶ï¼ˆä¸‹ä¸€æ­¥å¼€å‘ï¼‰
pending_components:
  controllers:
    - name: RequirementController
      priority: P0
      endpoints:
        - "POST /api/v1/requirements"
        - "GET /api/v1/requirements"
        - "PATCH /api/v1/requirements/{id}"
      requirements: [REQ-B5-1, REQ-C1-1, REQ-C1-2, REQ-C1-3]
      
    - name: TraceController
      priority: P0
      endpoints:
        - "POST /api/v1/traces"
        - "GET /api/v1/traces"
      requirements: [REQ-C3-1, REQ-C3-2]
      
  services:
    - name: RequirementService
      priority: P0
      responsibilities:
        - "éœ€æ±‚ä¸šåŠ¡é€»è¾‘"
        - "reqIdå”¯ä¸€æ€§éªŒè¯"
        - "DTOæ˜ å°„"
      requirements: [REQ-B5-1, REQ-C1-1]
      
    - name: TraceService
      priority: P0
      responsibilities:
        - "è¿½æº¯å…³ç³»ç®¡ç†"
        - "ç±»å‹æ˜ å°„ï¼ˆTraceâ†’Dependencyï¼‰"
        - "è¯­ä¹‰çº¦æŸéªŒè¯"
      requirements: [REQ-C3-1, REQ-C3-4]
      
  dtos:
    - name: RequirementDTO
      fields: ["id", "declaredShortName", "declaredName", "documentation"]
      requirements: [REQ-B2-4]
      
    - name: TraceDTO
      fields: ["id", "source", "target", "type"]
      requirements: [REQ-C3-1]

# ç»Ÿè®¡æ‘˜è¦
statistics:
  current_state:
    total_files: 50+  # MVPå®Œæ•´ä»£ç åº“
    mvp_completion: "100%"  # MVPæ ¸å¿ƒåŠŸèƒ½å®Œæˆåº¦
    performance_validated: "588ä¸ªå…ƒç´ "  # æ€§èƒ½éªŒè¯é€šè¿‡
    phase_planning: "3ä¸ªå¢å¼ºé˜¶æ®µ"  # æ–°å¢å¼ºé˜¶æ®µ
    
  mvp_requirements_status:
    total_mvp: 30  # MVPåŸæœ‰éœ€æ±‚
    implemented: 28  # å·²å®ç°çš„MVPéœ€æ±‚
    partially_implemented: 2  # éƒ¨åˆ†å®ç°
    mvp_completion_rate: "93.3%"
    tested: 25  # å·²é€šè¿‡æµ‹è¯•éªŒè¯
    
  phase1_requirements_status:
    total_phase1: 8  # Phase 1æ–°å¢éœ€æ±‚
    planned: 8  # è§„åˆ’ä¸­
    in_development: 0  # å¼€å‘ä¸­
    completed: 0  # å·²å®Œæˆ
    phase1_completion_rate: "0%"  # å¾…å¼€å§‹
    
  platform_capabilities:
    metamodel_classes: 182  # SysML Pilotå®Œæ•´æ”¯æŒ
    demo_objects: 588  # ç”µæ± ç³»ç»Ÿæ¼”ç¤ºæ•°æ®
    serialization: "JSON (sirius-emfjson)"
    storage: "FileSystem + å®Œæ•´CRUD"
    frontend_views: "æ ‘/è¡¨/å›¾ä¸‰è§†å›¾è”åŠ¨"
    performance: "<500ms APIå“åº” (500+å…ƒç´ )"
    validation: "3æ¡æ ¸å¿ƒè§„åˆ™ + ç±»å‹çº¦æŸ"
    
  development_priorities:
    mvp_remaining: 2  # MVPå‰©ä½™éœ€æ±‚
    phase1_stories: 5   # Phase 1æ–°å¢Story
    phase1_requirements: 8  # Phase 1æ–°å¢éœ€æ±‚
    estimated_effort: "2-3å‘¨"  # Phase 1é¢„è®¡å·¥æœŸ

# Phase 1 å…·ä½“å¼€å‘è®¡åˆ’
next_steps:
  phase_1_template_foundation:
    - task: "æ‰©å±•RequirementDefinitionæ¨¡å‹æ”¯æŒisAbstractå­—æ®µ"
      priority: P1
      requirements: [REQ-P1-1]
      estimated_effort: "1å¤©"
      deliverables:
        - "EMFæ¨¡å‹æ‰©å±•"
        - "RequirementServiceæ¨¡æ¿éªŒè¯é€»è¾‘"
      
    - task: "å®ç°å‚æ•°å ä½ç¬¦è§£æå¼•æ“"
      priority: P1
      requirements: [REQ-P1-2, REQ-P1-5]
      estimated_effort: "2å¤©"
      deliverables:
        - "ParameterParserç±»"
        - "TextRenderingEngineç±»"
        - "æ”¯æŒ${param}å’Œ${param:default}è¯­æ³•"
      
    - task: "å®ç°æ¨¡æ¿å®ä¾‹åŒ–APIæ¥å£"
      priority: P1
      requirements: [REQ-P1-3, REQ-P1-4]
      estimated_effort: "2å¤©"
      deliverables:
        - "POST /api/v1/requirements/templates/{id}/instantiate"
        - "RequirementUsage.parameterså­—æ®µæ”¯æŒ"
        - "è‡ªåŠ¨renderedTextç”Ÿæˆ"
        
  phase_1_template_management:
    - task: "å®ç°æ¨¡æ¿æŸ¥è¯¢å’Œç®¡ç†æ¥å£"
      priority: P1
      requirements: [REQ-P1-6, REQ-P1-7]
      estimated_effort: "1.5å¤©"
      deliverables:
        - "GET /api/v1/requirements/templates"
        - "æ¨¡æ¿å¼•ç”¨ä¿æŠ¤æœºåˆ¶"
        - "æ¨¡æ¿ä½¿ç”¨ç»Ÿè®¡"
        
    - task: "å®ç°å‚æ•°ç±»å‹ç³»ç»Ÿå’Œæ ¡éªŒ"
      priority: P1
      requirements: [REQ-P1-8]
      estimated_effort: "1.5å¤©"
      deliverables:
        - "ParameterTypeValidatorç±»"
        - "string/number/durationç±»å‹æ”¯æŒ"
        - "QUDVå•ä½æ ¡éªŒé›†æˆ"
        
  phase_1_testing:
    - task: "ç¼–å†™Phase 1å®Œæ•´æµ‹è¯•å¥—ä»¶"
      priority: P1
      requirements: ["All REQ-P1-*"]
      estimated_effort: "2å¤©"
      deliverables:
        - "RequirementTemplateServiceTest"
        - "TemplateControllerTest"
        - "ParameterRenderingTest"
        - "APIé›†æˆæµ‹è¯•"

# ç‰ˆæœ¬å†å²
version_history:
  - version: "5.0"
    date: "2025-08-27"
    author: "Claude"
    changes:
      - "ğŸ‰ MVPæ ¸å¿ƒåŠŸèƒ½100%å®Œæˆï¼Œ588ä¸ªå…ƒç´ æ€§èƒ½éªŒè¯é€šè¿‡"
      - "ğŸ“¨ æ–°å¢Phase 1-3å¢å¼ºé˜¶æ®µè§„åˆ’å’Œè¿½è¸ªçŸ©é˜µ"
      - "ğŸ“ æ–°å¢EPIC-G/H/Iï¼šæ¨¡æ¿åŒ–/å…³ç³»å¢å¼º/ç»§æ‰¿é‡å®šä¹‰"
      - "ğŸ¯ Phase 1æ–°å ©5ä¸ªStoryå’Œ8ä¸ªè¯¦ç»†Requirement"
      - "ğŸ”„ æ›´æ–°ç»Ÿè®¡æ•°æ®åæ˜ MVPå®ŒæˆçŠ¶æ€å’Œæ–°é˜¶æ®µè®¡åˆ’"
      - "ğŸ“Š å¼€å‘ä¼°æ—¶å’Œäº¤ä»˜ç‰©æ¸…å•è¯¦ç»†åŒ–"
  - version: "4.1"
    date: "2025-08-25T18:00"
    author: "Claude"
    changes:
      - "æ·»åŠ æµ‹è¯•çŠ¶æ€è·Ÿè¸ª"
      - "æ›´æ–°å·²å®ç°åŠŸèƒ½çš„æµ‹è¯•ç»“æœ"
      - "æ·»åŠ æµ‹è¯•æ–‡ä»¶å¼•ç”¨"
      - "åˆ›å»ºEMFCoreSimpleTest.javaéªŒè¯æ ¸å¿ƒåŠŸèƒ½"
  - version: "4.0"
    date: "2025-08-25"
    author: "Claude"
    changes:
      - "åŸºäºéœ€æ±‚æ–‡æ¡£v3.1åˆ›å»ºå…¨æ–°è¿½è¸ªçŸ©é˜µ"
      - "åæ˜ æç®€EMFåŸºç¡€å¹³å°ç°çŠ¶ï¼ˆ7ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼‰"
      - "æ˜ç¡®æ ‡è¯†å·²å®ç°vså¾…å®ç°åŠŸèƒ½"
      - "æä¾›æ¸…æ™°çš„ä¸‹ä¸€æ­¥å¼€å‘è·¯çº¿å›¾"
      - "èšç„¦EMFæ ¸å¿ƒä»·å€¼å’ŒåŸºç¡€èƒ½åŠ›"